var cardCount = 0;
var Card = (function () {
    function Card(name, suit, value) {
        this.name = name;
        this.suit = suit;
        this.value = value;
    }
    return Card;
}());
function Shuffle(thedeck) {
    this.cardCount = 0;
    var counter = thedeck.length;
    while (counter > 0) {
        var index = Math.floor(Math.random() * counter);
        counter--;
        var temp = thedeck[counter];
        thedeck[counter] = thedeck[index];
        thedeck[index] = temp;
    }
    //      document.getElementById("playGame").value = '';
    return thedeck;
}
var Hand = (function () {
    function Hand() {
    }
    Hand.prototype.totalValue = function () {
        var total = 0;
        for (var i = 0; i < this.cards.length; i++) {
            total += this.cards[i].value;
        }
        return total;
    };
    return Hand;
}());
var playerHand = new Hand();
var dealerHand = new Hand();
var myDeck = [
    new Card('Ace', 'Hearts', 1),
    new Card('Two', 'Hearts', 2),
    new Card('Three', 'Hearts', 3),
    new Card('Four', 'Hearts', 4),
    new Card('Five', 'Hearts', 5),
    new Card('Six', 'Hearts', 6),
    new Card('Seven', 'Hearts', 7),
    new Card('Eight', 'Hearts', 8),
    new Card('Nine', 'Hearts', 9),
    new Card('Ten', 'Hearts', 10),
    new Card('Jack', 'Hearts', 10),
    new Card('Queen', 'Hearts', 10),
    new Card('King', 'Hearts', 10),
    new Card('Ace', 'Spades', 1),
    new Card('Two', 'Spades', 2),
    new Card('Three', 'Spades', 3),
    new Card('Four', 'Spades', 4),
    new Card('Five', 'Spades', 5),
    new Card('Six', 'Spades', 6),
    new Card('Seven', 'Spades', 7),
    new Card('Eight', 'Spades', 8),
    new Card('Nine', 'Spades', 9),
    new Card('Ten', 'Spades', 10),
    new Card('Jack', 'Spades', 10),
    new Card('Queen', 'Spades', 10),
    new Card('King', 'Spades', 10),
    new Card('Ace', 'Diamonds', 1),
    new Card('Two', 'Diamonds', 2),
    new Card('Three', 'Diamonds', 3),
    new Card('Four', 'Diamonds', 4),
    new Card('Five', 'Diamonds', 5),
    new Card('Six', 'Diamonds', 6),
    new Card('Seven', 'Diamonds', 7),
    new Card('Eight', 'Diamonds', 8),
    new Card('Nine', 'Diamonds', 9),
    new Card('Ten', 'Diamonds', 10),
    new Card('Jack', 'Diamonds', 10),
    new Card('Queen', 'Diamonds', 10),
    new Card('King', 'Diamonds', 10),
    new Card('Ace', 'Clubs', 1),
    new Card('Two', 'Clubs', 2),
    new Card('Three', 'Clubs', 3),
    new Card('Five', 'Clubs', 5),
    new Card('Six', 'Clubs', 6),
    new Card('Seven', 'Clubs', 7),
    new Card('Eight', 'Clubs', 8),
    new Card('Nine', 'Clubs', 9),
    new Card('Ten', 'Clubs', 10),
    new Card('Jack', 'Clubs', 10),
    new Card('Queen', 'Clubs', 10),
    new Card('King', 'Clubs', 10),
];
function gamePlay() {
    Shuffle(myDeck);
    playerHand.cards = [myDeck[cardCount], myDeck[cardCount + 2]];
    dealerHand.cards = [myDeck[cardCount + 1], myDeck[cardCount + 3]];
    cardCount += 4;
    document.getElementById("playGame").value = ('your hand: ' + playerHand.cards[0].name + ' of ' + playerHand.cards[0].suit + ' and ' + playerHand.cards[1].name + ' of ' + playerHand.cards[1].suit + '. \n');
    document.getElementById("playGame").value += ('your total: ' + (playerHand.totalValue() + '\n\n'));
    document.getElementById("playGame").value += ('Dealer is showing: ' + dealerHand.cards[1].name + ' of ' + dealerHand.cards[1].suit + '.\n\n');
    document.getElementById("playGame").value += ('Do you wish to HIT or STAY? \n');
}
function Hit() {
    if (playerHand.totalValue() < 22) {
        playerHand.cards.push(myDeck[cardCount]);
        cardCount += 1;
        document.getElementById("playGame").value += ('\nCard added: ' + playerHand.cards[playerHand.cards.length - 1].name + ' of ' + playerHand.cards[playerHand.cards.length - 1].suit + '\n');
        document.getElementById("playGame").value += ('New Value: ' + playerHand.totalValue() + '\n');
    }
    if (playerHand.totalValue() < 21) {
        document.getElementById("playGame").value += ('\nDo you wish to HIT or STAY? \n');
    }
    else if (playerHand.totalValue() === 21) {
        document.getElementById("playGame").value += ('WOOHOO 21 You WIN! \n\nClick PLAY to start new game.');
    }
    else {
        document.getElementById("playGame").value += ('\nBUSTED!! You Loose! \n\nClick PLAY to start new game.');
    }
    //  return cardCount;
}
function Stay() {
    document.getElementById("playGame").value += ('\nThe Dealer hand: ' + dealerHand.cards[0].name + ' of ' + dealerHand.cards[0].suit + ' and ' + dealerHand.cards[1].name + ' of ' + dealerHand.cards[1].suit + '. \n');
    document.getElementById("playGame").value += ('Dealer total: ' + (dealerHand.totalValue() + '\n\n'));
    if (dealerHand.totalValue() >= 17) {
        if (dealerHand.totalValue() > playerHand.totalValue()) {
            document.getElementById("playGame").value += ('\nDealer Score: ' + dealerHand.totalValue() + ' Your Score: ' + playerHand.totalValue() + '\nDealer Wins! \n\nClick PLAY to start new game.');
        }
        else {
            document.getElementById("playGame").value += ('\nDealer Score: ' + dealerHand.totalValue() + ' Your Score: ' + playerHand.totalValue() + '\nYou Win! \n\nClick PLAY to start new game.');
        }
    }
    for (var i = 0; dealerHand.totalValue() < 17; i++) {
        dealerHand.cards.push(myDeck[cardCount]);
        cardCount += 1;
        document.getElementById("playGame").value += ('Dealer Hit: ' + dealerHand.cards[dealerHand.cards.length - 1].name + ' of ' + dealerHand.cards[dealerHand.cards.length - 1].suit + '\n');
        document.getElementById("playGame").value += ('New Value: ' + dealerHand.totalValue() + '\n\n');
        if (dealerHand.totalValue() >= 17) {
            if (dealerHand.totalValue() > 21) {
                document.getElementById("playGame").value += ('Dealer Bust: You WIN! \n\nClick PLAY to start new game.');
            }
            else if (dealerHand.totalValue() > playerHand.totalValue()) {
                document.getElementById("playGame").value += ('Dealer Score: ' + dealerHand.totalValue() + ' Your Score: ' + playerHand.totalValue() + '\nDealer Wins! \n\nClick PLAY to start a new game.');
            }
            else {
                document.getElementById("playGame").value += ('Dealer Score: ' + dealerHand.totalValue() + ' Your Score: ' + playerHand.totalValue() + '\nYou WIN! \n\nClick PLAY to start a new game.');
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztBQUVsQjtJQUtFLGNBQWEsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLO1FBQzVCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBRXJCLENBQUM7SUFDSCxXQUFDO0FBQUQsQ0FBQyxBQVhELElBV0M7QUFFRCxpQkFBa0IsT0FBTztJQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztJQUNuQixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO0lBRTdCLE9BQU8sT0FBTyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2pCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxDQUFDO1FBRWhELE9BQU8sRUFBRSxDQUFDO1FBRVYsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVCLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQztJQUMxQixDQUFDO0lBQ1AsdURBQXVEO0lBQ2pELE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDbkIsQ0FBQztBQUVIO0lBQUE7SUFVQSxDQUFDO0lBUEMseUJBQVUsR0FBVjtRQUNFLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLEdBQUcsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUMsQ0FBQztZQUN6QyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDL0IsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0gsV0FBQztBQUFELENBQUMsQUFWRCxJQVVDO0FBRUQsSUFBSSxVQUFVLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUM1QixJQUFJLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0FBRTVCLElBQUksTUFBTSxHQUFHO0lBQ1gsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDakMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDakMsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDakMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUM7SUFDakMsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUM7SUFDbEMsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUM7SUFDakMsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDNUIsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDNUIsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDNUIsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUM7SUFDL0IsSUFBSSxJQUFJLENBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUM7Q0FDL0IsQ0FBQTtBQUVEO0lBQ0UsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRWhCLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlELFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRSxTQUFTLElBQUksQ0FBQyxDQUFDO0lBRWYsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxhQUFhLEdBQUUsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUUsTUFBTSxHQUFFLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFFLE9BQU8sR0FBRSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRSxNQUFNLEdBQUUsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUUsTUFBTSxDQUFDLENBQUM7SUFDck0sUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxjQUFjLEdBQUUsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLEdBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUVqRyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLHFCQUFxQixHQUFF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QUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLHlEQUF5RCxDQUFDLENBQUM7WUFDM0csQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLEdBQUcsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0QsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsR0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLEdBQUMsZUFBZSxHQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsR0FBRSxvREFBb0QsQ0FBQyxDQUFDO1lBQ3hMLENBQUM7WUFBQSxJQUFJLENBQUMsQ0FBQztnQkFDTCxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLGdCQUFnQixHQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsR0FBQyxlQUFlLEdBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxHQUFDLGdEQUFnRCxDQUFDLENBQUM7WUFDckwsQ0FBQztRQUNELENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImxldCBjYXJkQ291bnQgPSAwO1xyXG5cclxuY2xhc3MgQ2FyZCB7XHJcbiAgbmFtZTtcclxuICBzdWl0O1xyXG4gIHZhbHVlO1xyXG5cclxuICBjb25zdHJ1Y3RvciAobmFtZSwgc3VpdCwgdmFsdWUpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLnN1aXQgPSBzdWl0O1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNodWZmbGUgKHRoZWRlY2spIHtcclxuICAgICAgdGhpcy5jYXJkQ291bnQgPSAwO1xyXG4gICAgICBsZXQgY291bnRlciA9IHRoZWRlY2subGVuZ3RoO1xyXG5cclxuICAgICAgd2hpbGUgKGNvdW50ZXIgPiAwKSB7XHJcbiAgICAgICAgICBsZXQgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb3VudGVyKTtcclxuXHJcbiAgICAgICAgICBjb3VudGVyLS07XHJcblxyXG4gICAgICAgICAgbGV0IHRlbXAgPSB0aGVkZWNrW2NvdW50ZXJdO1xyXG4gICAgICAgICAgdGhlZGVja1tjb3VudGVyXSA9IHRoZWRlY2tbaW5kZXhdO1xyXG4gICAgICAgICAgdGhlZGVja1tpbmRleF0gPSB0ZW1wO1xyXG4gICAgICB9XHJcbi8vICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSA9ICcnO1xyXG4gICAgICByZXR1cm4gdGhlZGVjaztcclxuICB9XHJcblxyXG5jbGFzcyBIYW5kIHtcclxuICBwdWJsaWMgY2FyZHM6IENhcmRbXTtcclxuXHJcbiAgdG90YWxWYWx1ZSgpIHtcclxuICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXJkcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgIHRvdGFsICs9IHRoaXMuY2FyZHNbaV0udmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG90YWw7XHJcbiAgfVxyXG59XHJcblxyXG5sZXQgcGxheWVySGFuZCA9IG5ldyBIYW5kKCk7XHJcbmxldCBkZWFsZXJIYW5kID0gbmV3IEhhbmQoKTtcclxuXHJcbmxldCBteURlY2sgPSBbXHJcbiAgbmV3IENhcmQgKCdBY2UnLCAnSGVhcnRzJywgMSksXHJcbiAgbmV3IENhcmQgKCdUd28nLCAnSGVhcnRzJywgMiksXHJcbiAgbmV3IENhcmQgKCdUaHJlZScsICdIZWFydHMnLCAzKSxcclxuICBuZXcgQ2FyZCAoJ0ZvdXInLCAnSGVhcnRzJywgNCksXHJcbiAgbmV3IENhcmQgKCdGaXZlJywgJ0hlYXJ0cycsIDUpLFxyXG4gIG5ldyBDYXJkICgnU2l4JywgJ0hlYXJ0cycsIDYpLFxyXG4gIG5ldyBDYXJkICgnU2V2ZW4nLCAnSGVhcnRzJywgNyksXHJcbiAgbmV3IENhcmQgKCdFaWdodCcsICdIZWFydHMnLCA4KSxcclxuICBuZXcgQ2FyZCAoJ05pbmUnLCAnSGVhcnRzJywgOSksXHJcbiAgbmV3IENhcmQgKCdUZW4nLCAnSGVhcnRzJywgMTApLFxyXG4gIG5ldyBDYXJkICgnSmFjaycsICdIZWFydHMnLCAxMCksXHJcbiAgbmV3IENhcmQgKCdRdWVlbicsICdIZWFydHMnLCAxMCksXHJcbiAgbmV3IENhcmQgKCdLaW5nJywgJ0hlYXJ0cycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ0FjZScsICdTcGFkZXMnLCAxKSxcclxuICBuZXcgQ2FyZCAoJ1R3bycsICdTcGFkZXMnLCAyKSxcclxuICBuZXcgQ2FyZCAoJ1RocmVlJywgJ1NwYWRlcycsIDMpLFxyXG4gIG5ldyBDYXJkICgnRm91cicsICdTcGFkZXMnLCA0KSxcclxuICBuZXcgQ2FyZCAoJ0ZpdmUnLCAnU3BhZGVzJywgNSksXHJcbiAgbmV3IENhcmQgKCdTaXgnLCAnU3BhZGVzJywgNiksXHJcbiAgbmV3IENhcmQgKCdTZXZlbicsICdTcGFkZXMnLCA3KSxcclxuICBuZXcgQ2FyZCAoJ0VpZ2h0JywgJ1NwYWRlcycsIDgpLFxyXG4gIG5ldyBDYXJkICgnTmluZScsICdTcGFkZXMnLCA5KSxcclxuICBuZXcgQ2FyZCAoJ1RlbicsICdTcGFkZXMnLCAxMCksXHJcbiAgbmV3IENhcmQgKCdKYWNrJywgJ1NwYWRlcycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ1F1ZWVuJywgJ1NwYWRlcycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ0tpbmcnLCAnU3BhZGVzJywgMTApLFxyXG4gIG5ldyBDYXJkICgnQWNlJywgJ0RpYW1vbmRzJywgMSksXHJcbiAgbmV3IENhcmQgKCdUd28nLCAnRGlhbW9uZHMnLCAyKSxcclxuICBuZXcgQ2FyZCAoJ1RocmVlJywgJ0RpYW1vbmRzJywgMyksXHJcbiAgbmV3IENhcmQgKCdGb3VyJywgJ0RpYW1vbmRzJywgNCksXHJcbiAgbmV3IENhcmQgKCdGaXZlJywgJ0RpYW1vbmRzJywgNSksXHJcbiAgbmV3IENhcmQgKCdTaXgnLCAnRGlhbW9uZHMnLCA2KSxcclxuICBuZXcgQ2FyZCAoJ1NldmVuJywgJ0RpYW1vbmRzJywgNyksXHJcbiAgbmV3IENhcmQgKCdFaWdodCcsICdEaWFtb25kcycsIDgpLFxyXG4gIG5ldyBDYXJkICgnTmluZScsICdEaWFtb25kcycsIDkpLFxyXG4gIG5ldyBDYXJkICgnVGVuJywgJ0RpYW1vbmRzJywgMTApLFxyXG4gIG5ldyBDYXJkICgnSmFjaycsICdEaWFtb25kcycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ1F1ZWVuJywgJ0RpYW1vbmRzJywgMTApLFxyXG4gIG5ldyBDYXJkICgnS2luZycsICdEaWFtb25kcycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ0FjZScsICdDbHVicycsIDEpLFxyXG4gIG5ldyBDYXJkICgnVHdvJywgJ0NsdWJzJywgMiksXHJcbiAgbmV3IENhcmQgKCdUaHJlZScsICdDbHVicycsIDMpLFxyXG4gIG5ldyBDYXJkICgnRml2ZScsICdDbHVicycsIDUpLFxyXG4gIG5ldyBDYXJkICgnU2l4JywgJ0NsdWJzJywgNiksXHJcbiAgbmV3IENhcmQgKCdTZXZlbicsICdDbHVicycsIDcpLFxyXG4gIG5ldyBDYXJkICgnRWlnaHQnLCAnQ2x1YnMnLCA4KSxcclxuICBuZXcgQ2FyZCAoJ05pbmUnLCAnQ2x1YnMnLCA5KSxcclxuICBuZXcgQ2FyZCAoJ1RlbicsICdDbHVicycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ0phY2snLCAnQ2x1YnMnLCAxMCksXHJcbiAgbmV3IENhcmQgKCdRdWVlbicsICdDbHVicycsIDEwKSxcclxuICBuZXcgQ2FyZCAoJ0tpbmcnLCAnQ2x1YnMnLCAxMCksXHJcbl1cclxuXHJcbmZ1bmN0aW9uIGdhbWVQbGF5KCkge1xyXG4gIFNodWZmbGUobXlEZWNrKTtcclxuXHJcbiAgcGxheWVySGFuZC5jYXJkcyA9IFtteURlY2tbY2FyZENvdW50XSwgbXlEZWNrW2NhcmRDb3VudCArIDJdXTtcclxuICBkZWFsZXJIYW5kLmNhcmRzID0gW215RGVja1tjYXJkQ291bnQgKyAxXSwgbXlEZWNrW2NhcmRDb3VudCArIDNdXTtcclxuICBjYXJkQ291bnQgKz0gNDtcclxuXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSA9ICgneW91ciBoYW5kOiAnICtwbGF5ZXJIYW5kLmNhcmRzWzBdLm5hbWUrICcgb2YgJyArcGxheWVySGFuZC5jYXJkc1swXS5zdWl0KyAnIGFuZCAnICtwbGF5ZXJIYW5kLmNhcmRzWzFdLm5hbWUrICcgb2YgJyArcGxheWVySGFuZC5jYXJkc1sxXS5zdWl0KyAnLiBcXG4nKTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgneW91ciB0b3RhbDogJyArKHBsYXllckhhbmQudG90YWxWYWx1ZSgpKyAnXFxuXFxuJykpO1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgnRGVhbGVyIGlzIHNob3dpbmc6ICcgK2RlYWxlckhhbmQuY2FyZHNbMV0ubmFtZSsgJyBvZiAnICtkZWFsZXJIYW5kLmNhcmRzWzFdLnN1aXQgKycuXFxuXFxuJyk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ0RvIHlvdSB3aXNoIHRvIEhJVCBvciBTVEFZPyBcXG4nKVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gSGl0KCkge1xyXG4gIGlmIChwbGF5ZXJIYW5kLnRvdGFsVmFsdWUoKSA8IDIyKSB7XHJcbiAgICBwbGF5ZXJIYW5kLmNhcmRzLnB1c2gobXlEZWNrW2NhcmRDb3VudF0pO1xyXG4gICAgY2FyZENvdW50ICs9IDE7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ1xcbkNhcmQgYWRkZWQ6ICcgKyBwbGF5ZXJIYW5kLmNhcmRzW3BsYXllckhhbmQuY2FyZHMubGVuZ3RoLTFdLm5hbWUgKyAnIG9mICcgK3BsYXllckhhbmQuY2FyZHNbcGxheWVySGFuZC5jYXJkcy5sZW5ndGgtMV0uc3VpdCArJ1xcbicpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ05ldyBWYWx1ZTogJyArcGxheWVySGFuZC50b3RhbFZhbHVlKCkrICdcXG4nKTtcclxuXHJcbiAgfVxyXG5cclxuICBpZiAocGxheWVySGFuZC50b3RhbFZhbHVlKCkgPCAyMSkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ1xcbkRvIHlvdSB3aXNoIHRvIEhJVCBvciBTVEFZPyBcXG4nKTtcclxuICB9IGVsc2UgaWYgKHBsYXllckhhbmQudG90YWxWYWx1ZSgpID09PSAyMSkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ1dPT0hPTyAyMSBZb3UgV0lOISBcXG5cXG5DbGljayBQTEFZIHRvIHN0YXJ0IG5ldyBnYW1lLicpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgnXFxuQlVTVEVEISEgWW91IExvb3NlISBcXG5cXG5DbGljayBQTEFZIHRvIHN0YXJ0IG5ldyBnYW1lLicpO1xyXG4gIH1cclxuLy8gIHJldHVybiBjYXJkQ291bnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFN0YXkoKSB7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ1xcblRoZSBEZWFsZXIgaGFuZDogJyArZGVhbGVySGFuZC5jYXJkc1swXS5uYW1lKyAnIG9mICcgK2RlYWxlckhhbmQuY2FyZHNbMF0uc3VpdCsgJyBhbmQgJyArZGVhbGVySGFuZC5jYXJkc1sxXS5uYW1lKyAnIG9mICcgK2RlYWxlckhhbmQuY2FyZHNbMV0uc3VpdCsgJy4gXFxuJylcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgnRGVhbGVyIHRvdGFsOiAnICsoZGVhbGVySGFuZC50b3RhbFZhbHVlKCkrICdcXG5cXG4nKSk7XHJcblxyXG4gIGlmIChkZWFsZXJIYW5kLnRvdGFsVmFsdWUoKSA+PSAxNykge1xyXG5cclxuICAgIGlmIChkZWFsZXJIYW5kLnRvdGFsVmFsdWUoKSA+IHBsYXllckhhbmQudG90YWxWYWx1ZSgpKSB7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUdhbWVcIikudmFsdWUgKz0gKCdcXG5EZWFsZXIgU2NvcmU6ICcrZGVhbGVySGFuZC50b3RhbFZhbHVlKCkrJyBZb3VyIFNjb3JlOiAnK3BsYXllckhhbmQudG90YWxWYWx1ZSgpKyAnXFxuRGVhbGVyIFdpbnMhIFxcblxcbkNsaWNrIFBMQVkgdG8gc3RhcnQgbmV3IGdhbWUuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgnXFxuRGVhbGVyIFNjb3JlOiAnK2RlYWxlckhhbmQudG90YWxWYWx1ZSgpKycgWW91ciBTY29yZTogJytwbGF5ZXJIYW5kLnRvdGFsVmFsdWUoKSsgJ1xcbllvdSBXaW4hIFxcblxcbkNsaWNrIFBMQVkgdG8gc3RhcnQgbmV3IGdhbWUuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgZGVhbGVySGFuZC50b3RhbFZhbHVlKCkgPCAxNzsgaSsrKSB7XHJcbiAgICBkZWFsZXJIYW5kLmNhcmRzLnB1c2gobXlEZWNrW2NhcmRDb3VudF0pO1xyXG4gICAgY2FyZENvdW50ICs9IDE7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgnRGVhbGVyIEhpdDogJyArZGVhbGVySGFuZC5jYXJkc1tkZWFsZXJIYW5kLmNhcmRzLmxlbmd0aC0xXS5uYW1lKyAnIG9mICcgK2RlYWxlckhhbmQuY2FyZHNbZGVhbGVySGFuZC5jYXJkcy5sZW5ndGgtMV0uc3VpdCArJ1xcbicpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5R2FtZVwiKS52YWx1ZSArPSAoJ05ldyBWYWx1ZTogJyArZGVhbGVySGFuZC50b3RhbFZhbHVlKCkrICdcXG5cXG4nKTtcclxuXHJcbiAgICBpZiAoZGVhbGVySGFuZC50b3RhbFZhbHVlKCkgPj0gMTcpIHtcclxuICAgICAgaWYgKGRlYWxlckhhbmQudG90YWxWYWx1ZSgpID4gMjEpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlHYW1lXCIpLnZhbHVlICs9ICgnRGVhbGVyIEJ1c3Q6IFlvdSBXSU4hIFxcblxcbkNsaWNrIFBMQVkgdG8gc3RhcnQgbmV3IGdhbWUuJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGVhbGVySGFuZC50b3RhbFZhbHVlKCkgPiBwbGF5ZXJIYW5kLnRvdGFsVmFsdWUoKSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUdhbWVcIikudmFsdWUgKz0gKCdEZWFsZXIgU2NvcmU6ICcrZGVhbGVySGFuZC50b3RhbFZhbHVlKCkrJyBZb3VyIFNjb3JlOiAnK3BsYXllckhhbmQudG90YWxWYWx1ZSgpKyAnXFxuRGVhbGVyIFdpbnMhIFxcblxcbkNsaWNrIFBMQVkgdG8gc3RhcnQgYSBuZXcgZ2FtZS4nKTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUdhbWVcIikudmFsdWUgKz0gKCdEZWFsZXIgU2NvcmU6ICcrZGVhbGVySGFuZC50b3RhbFZhbHVlKCkrJyBZb3VyIFNjb3JlOiAnK3BsYXllckhhbmQudG90YWxWYWx1ZSgpKydcXG5Zb3UgV0lOISBcXG5cXG5DbGljayBQTEFZIHRvIHN0YXJ0IGEgbmV3IGdhbWUuJyk7XHJcbiAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==